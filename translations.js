// Ù…Ù„Ù Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª
const translations = {
    ar: {
        // Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        page_title: "Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø³Ø±Ù‚Ø©",
        site_name: "Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø³Ø±Ù‚Ø©",
        current_lang: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
        
        // Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„
        hero_title: "Ø­Ù…Ø§ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ø¶Ø¯ Ø§Ù„Ø³Ø±Ù‚Ø©",
        hero_description: "Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù…ØªÙ„ÙƒØ§ØªÙƒ ÙˆØªØªØ¨Ø¹Ù‡Ø§ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ",
        get_started: "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†",
        
        // Ù‚Ø³Ù… Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        stats_title: "Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…",
        protected_devices: "Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙŠØ©",
        active_alerts: "Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©",
        response_time: "Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©",
        
        // Ù‚Ø³Ù… Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª
        features_title: "Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª",
        feature1_title: "Ø­Ù…Ø§ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©",
        feature1_desc: "ØªØ´ÙÙŠØ± Ø¹Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ù„Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ",
        feature2_title: "ØªØªØ¨Ø¹ ÙÙˆØ±ÙŠ",
        feature2_desc: "ØªØªØ¨Ø¹ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ù‡Ø§Ø² ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ",
        feature3_title: "ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ÙÙˆØ±ÙŠØ©",
        feature3_desc: "Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙˆØ±ÙŠØ© Ø¹Ù†Ø¯ Ø§ÙƒØªØ´Ø§Ù Ø£ÙŠ Ù†Ø´Ø§Ø· Ù…Ø´Ø¨ÙˆÙ‡",
        
        // Ù…Ù…ÙŠØ²Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
        login_google: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ Google",
        create_account: "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯",
        email_verification: "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
        view_map: "Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø±ÙŠØ·Ø©",
        
        // ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        footer_text: "Â© 2024 Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø³Ø±Ù‚Ø©. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.",
        
        // Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…
        loading: "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...",
        error_connection: "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…",
        success_saved: "ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø¨Ù†Ø¬Ø§Ø­",
        redirecting: "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„Ù„Ù†Ø¸Ø§Ù…..."
    },
    
    en: {
        // Main titles
        page_title: "Anti-Theft System",
        site_name: "Anti-Theft System",
        current_lang: "English",
        
        // Hero section
        hero_title: "Advanced Anti-Theft Protection",
        hero_description: "Comprehensive system to protect and track your belongings in real-time",
        get_started: "Get Started",
        
        // Stats section
        stats_title: "System Statistics",
        protected_devices: "Protected Devices",
        active_alerts: "Active Alerts",
        response_time: "Response Time",
        
        // Features section
        features_title: "Features",
        feature1_title: "Advanced Protection",
        feature1_desc: "High-level encryption to protect your data",
        feature2_title: "Real-time Tracking",
        feature2_desc: "Track device location in real-time",
        feature3_title: "Instant Alerts",
        feature3_desc: "Immediate notifications when suspicious activity is detected",
        
        // New features
        login_google: "Login with Google",
        create_account: "Create New Account",
        email_verification: "Email Verification",
        view_map: "View Map",
        
        // Footer
        footer_text: "Â© 2024 Anti-Theft System. All rights reserved.",
        
        // System messages
        loading: "Loading...",
        error_connection: "Connection error with server",
        success_saved: "Preferences saved successfully",
        redirecting: "Redirecting to system..."
    },
    
    el: {
        // ÎšÏÏÎ¹Î¿Î¹ Ï„Î¯Ï„Î»Î¿Î¹
        page_title: "Î£ÏÏƒÏ„Î·Î¼Î± ÎšÎ±Ï„Î¬ Ï„Î·Ï‚ ÎšÎ»Î¿Ï€Î®Ï‚",
        site_name: "Î£ÏÏƒÏ„Î·Î¼Î± ÎšÎ±Ï„Î¬ Ï„Î·Ï‚ ÎšÎ»Î¿Ï€Î®Ï‚",
        current_lang: "Î•Î»Î»Î·Î½Î¹ÎºÎ¬",
        
        // Î•Î½ÏŒÏ„Î·Ï„Î± Î®ÏÏ‰Î±
        hero_title: "Î ÏÎ¿Î·Î³Î¼Î­Î½Î· Î ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± ÎšÎ±Ï„Î¬ Ï„Î·Ï‚ ÎšÎ»Î¿Ï€Î®Ï‚",
        hero_description: "ÎŸÎ»Î¿ÎºÎ»Î·ÏÏ‰Î¼Î­Î½Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Î³Î¹Î± Ï„Î·Î½ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± ÎºÎ±Î¹ Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Ï„Ï‰Î½ Î±Î½Ï„Î¹ÎºÎµÎ¹Î¼Î­Î½Ï‰Î½ ÏƒÎ±Ï‚ ÏƒÎµ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÏŒ Ï‡ÏÏŒÎ½Î¿",
        get_started: "ÎÎµÎºÎ¹Î½Î®ÏƒÏ„Îµ",
        
        // Î•Î½ÏŒÏ„Î·Ï„Î± ÏƒÏ„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÏÎ½
        stats_title: "Î£Ï„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ Î£Ï…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚",
        protected_devices: "Î ÏÎ¿ÏƒÏ„Î±Ï„ÎµÏ…Î¼Î­Î½ÎµÏ‚ Î£Ï…ÏƒÎºÎµÏ…Î­Ï‚",
        active_alerts: "Î•Î½ÎµÏÎ³Î­Ï‚ Î•Î¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚",
        response_time: "Î§ÏÏŒÎ½Î¿Ï‚ Î‘Ï€ÏŒÎºÏÎ¹ÏƒÎ·Ï‚",
        
        // Î•Î½ÏŒÏ„Î·Ï„Î± Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÏÎ½
        features_title: "Î§Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬",
        feature1_title: "Î ÏÎ¿Î·Î³Î¼Î­Î½Î· Î ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î±",
        feature1_desc: "ÎšÏÏ…Ï€Ï„Î¿Î³ÏÎ¬Ï†Î·ÏƒÎ· Ï…ÏˆÎ·Î»Î¿Ï ÎµÏ€Î¹Ï€Î­Î´Î¿Ï… Î³Î¹Î± Ï„Î·Î½ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± Ï„Ï‰Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ ÏƒÎ±Ï‚",
        feature2_title: "Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· ÏƒÎµ Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÏŒ Î§ÏÏŒÎ½Î¿",
        feature2_desc: "Î Î±ÏÎ±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ Ï„Î· Î¸Î­ÏƒÎ· Ï„Î·Ï‚ ÏƒÏ…ÏƒÎºÎµÏ…Î®Ï‚ ÏƒÎµ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÏŒ Ï‡ÏÏŒÎ½Î¿",
        feature3_title: "Î†Î¼ÎµÏƒÎµÏ‚ Î•Î¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚",
        feature3_desc: "Î†Î¼ÎµÏƒÎµÏ‚ ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚ ÏŒÏ„Î±Î½ ÎµÎ½Ï„Î¿Ï€Î¹ÏƒÏ„ÎµÎ¯ ÏÏ€Î¿Ï€Ï„Î· Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„Î±",
        
        // ÎÎ­Î± Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬
        login_google: "Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Google",
        create_account: "Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± ÎÎ­Î¿Ï… Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Ï",
        email_verification: "Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ· Email",
        view_map: "Î ÏÎ¿Î²Î¿Î»Î® Î§Î¬ÏÏ„Î·",
        
        // Î¥Ï€Î¿ÏƒÎ­Î»Î¹Î´Î¿
        footer_text: "Â© 2024 Î£ÏÏƒÏ„Î·Î¼Î± ÎšÎ±Ï„Î¬ Ï„Î·Ï‚ ÎšÎ»Î¿Ï€Î®Ï‚. ÎŒÎ»Î± Ï„Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± Î´Î¹Î±Ï„Î·ÏÎ¿ÏÎ½Ï„Î±Î¹.",
        
        // ÎœÎ·Î½ÏÎ¼Î±Ï„Î± ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚
        loading: "Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...",
        error_connection: "Î£Ï†Î¬Î»Î¼Î± ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ Î¼Îµ Ï„Î¿Î½ Î´Î¹Î±ÎºÎ¿Î¼Î¹ÏƒÏ„Î®",
        success_saved: "ÎŸÎ¹ Ï€ÏÎ¿Ï„Î¹Î¼Î®ÏƒÎµÎ¹Ï‚ Î±Ï€Î¿Î¸Î·ÎºÎµÏÏ„Î·ÎºÎ±Î½ ÎµÏ€Î¹Ï„Ï…Ï‡ÏÏ‚",
        redirecting: "Î‘Î½Î±ÎºÎ±Ï„ÎµÏÎ¸Ï…Î½ÏƒÎ· ÏƒÏ„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î±..."
    }
};

// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ØºØ©
const languageConfig = {
    ar: {
        dir: 'rtl',
        flag: 'ğŸ‡¸ğŸ‡¦',
        name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'
    },
    en: {
        dir: 'ltr',
        flag: 'ğŸ‡ºğŸ‡¸',
        name: 'English'
    },
    el: {
        dir: 'ltr',
        flag: 'ğŸ‡¬ğŸ‡·',
        name: 'Î•Î»Î»Î·Î½Î¹ÎºÎ¬'
    }
};

// Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
let currentLanguage = localStorage.getItem('selectedLanguage') || 'ar';

// Ø¯Ø§Ù„Ø© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ±Ø¬Ù…Ø©
function applyTranslations(lang) {
    const elements = document.querySelectorAll('[data-translate]');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // ØªØ­Ø¯ÙŠØ« Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©
    document.documentElement.setAttribute('lang', lang);
    document.documentElement.setAttribute('dir', languageConfig[lang].dir);
    
    // ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©
    document.title = translations[lang].page_title;
    
    // ØªØ­Ø¯ÙŠØ« Ø²Ø± Ø§Ù„Ù„ØºØ©
    updateLanguageButton(lang);
    
    // Ø­ÙØ¸ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
    localStorage.setItem('selectedLanguage', lang);
    currentLanguage = lang;
}

// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø²Ø± Ø§Ù„Ù„ØºØ©
function updateLanguageButton(lang) {
    const flagElement = document.getElementById('currentFlag');
    const langText = document.querySelector('[data-translate="current_lang"]');
    
    if (flagElement) {
        flagElement.textContent = languageConfig[lang].flag;
    }
    
    if (langText) {
        langText.textContent = languageConfig[lang].name;
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©
    const options = document.querySelectorAll('.lang-option');
    options.forEach(option => {
        option.classList.remove('active');
        if (option.getAttribute('data-lang') === lang) {
            option.classList.add('active');
        }
    });
}

// Ø¯Ø§Ù„Ø© ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
function switchLanguage(lang) {
    if (lang !== currentLanguage) {
        applyTranslations(lang);
        
        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ù„Ø³
        document.body.style.opacity = '0.8';
        setTimeout(() => {
            document.body.style.opacity = '1';
        }, 200);
    }
}

// ØªØµØ¯ÙŠØ± Ø§Ù„Ø¯ÙˆØ§Ù„ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ù…Ù„ÙØ§Øª Ø£Ø®Ø±Ù‰
window.translations = translations;
window.languageConfig = languageConfig;
window.applyTranslations = applyTranslations;
window.switchLanguage = switchLanguage;
window.currentLanguage = currentLanguage;
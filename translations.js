// Ù…Ù„Ù Ø§Ù„ØªØ±Ø¬Ù…Ø§Øª
const translations = {
    ar: {
        // Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        page_title: "Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø³Ø±Ù‚Ø©",
        site_name: "Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø³Ø±Ù‚Ø©",
        current_lang: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
        
        // Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„
        hero_title: "Ø­Ù…Ø§ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ø¶Ø¯ Ø§Ù„Ø³Ø±Ù‚Ø©",
        hero_description: "Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù…ØªÙ„ÙƒØ§ØªÙƒ ÙˆØªØªØ¨Ø¹Ù‡Ø§ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ",
        get_started: "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†",
        
        // Ù‚Ø³Ù… Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        stats_title: "Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…",
        protected_devices: "Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙŠØ©",
        active_alerts: "Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©",
        response_time: "Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©",
        
        // Ù‚Ø³Ù… Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª
        features_title: "Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª",
        feature1_title: "Ø­Ù…Ø§ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©",
        feature1_desc: "ØªØ´ÙÙŠØ± Ø¹Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ù„Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ",
        feature2_title: "ØªØªØ¨Ø¹ ÙÙˆØ±ÙŠ",
        feature2_desc: "ØªØªØ¨Ø¹ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ù‡Ø§Ø² ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ",
        feature3_title: "ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ÙÙˆØ±ÙŠØ©",
        feature3_desc: "Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙˆØ±ÙŠØ© Ø¹Ù†Ø¯ Ø§ÙƒØªØ´Ø§Ù Ø£ÙŠ Ù†Ø´Ø§Ø· Ù…Ø´Ø¨ÙˆÙ‡",
        
        // ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        footer_text: "Â© 2024 Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø³Ø±Ù‚Ø©. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.",
        
        // Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…
        loading: "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...",
        error_connection: "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…",
        success_saved: "ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ø¨Ù†Ø¬Ø§Ø­",
        redirecting: "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„Ù„Ù†Ø¸Ø§Ù…..."
    },
    
    en: {
        // Main titles
        page_title: "Anti-Theft System",
        site_name: "Anti-Theft System",
        current_lang: "English",
        
        // Hero section
        hero_title: "Advanced Anti-Theft Protection",
        hero_description: "Comprehensive system to protect and track your belongings in real-time",
        get_started: "Get Started",
        
        // Stats section
        stats_title: "System Statistics",
        protected_devices: "Protected Devices",
        active_alerts: "Active Alerts",
        response_time: "Response Time",
        
        // Features section
        features_title: "Features",
        feature1_title: "Advanced Protection",
        feature1_desc: "High-level encryption to protect your data",
        feature2_title: "Real-time Tracking",
        feature2_desc: "Track device location in real-time",
        feature3_title: "Instant Alerts",
        feature3_desc: "Immediate notifications when suspicious activity is detected",
        
        // Footer
        footer_text: "Â© 2024 Anti-Theft System. All rights reserved.",
        
        // System messages
        loading: "Loading...",
        error_connection: "Connection error with server",
        success_saved: "Preferences saved successfully",
        redirecting: "Redirecting to system..."
    }
};

// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„ØºØ©
const languageConfig = {
    ar: {
        dir: 'rtl',
        flag: 'ğŸ‡¸ğŸ‡¦',
        name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'
    },
    en: {
        dir: 'ltr',
        flag: 'ğŸ‡ºğŸ‡¸',
        name: 'English'
    }
};

// Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
let currentLanguage = localStorage.getItem('selectedLanguage') || 'ar';

// Ø¯Ø§Ù„Ø© ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ±Ø¬Ù…Ø©
function applyTranslations(lang) {
    const elements = document.querySelectorAll('[data-translate]');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // ØªØ­Ø¯ÙŠØ« Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©
    document.documentElement.setAttribute('lang', lang);
    document.documentElement.setAttribute('dir', languageConfig[lang].dir);
    
    // ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©
    document.title = translations[lang].page_title;
    
    // ØªØ­Ø¯ÙŠØ« Ø²Ø± Ø§Ù„Ù„ØºØ©
    updateLanguageButton(lang);
    
    // Ø­ÙØ¸ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
    localStorage.setItem('selectedLanguage', lang);
    currentLanguage = lang;
}

// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø²Ø± Ø§Ù„Ù„ØºØ©
function updateLanguageButton(lang) {
    const flagElement = document.getElementById('currentFlag');
    const langText = document.querySelector('[data-translate="current_lang"]');
    
    if (flagElement) {
        flagElement.textContent = languageConfig[lang].flag;
    }
    
    if (langText) {
        langText.textContent = languageConfig[lang].name;
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©
    const options = document.querySelectorAll('.lang-option');
    options.forEach(option => {
        option.classList.remove('active');
        if (option.getAttribute('data-lang') === lang) {
            option.classList.add('active');
        }
    });
}

// Ø¯Ø§Ù„Ø© ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
function switchLanguage(lang) {
    if (lang !== currentLanguage) {
        applyTranslations(lang);
        
        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ù„Ø³
        document.body.style.opacity = '0.8';
        setTimeout(() => {
            document.body.style.opacity = '1';
        }, 200);
    }
}

// ØªØµØ¯ÙŠØ± Ø§Ù„Ø¯ÙˆØ§Ù„ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ù…Ù„ÙØ§Øª Ø£Ø®Ø±Ù‰
window.translations = translations;
window.languageConfig = languageConfig;
window.applyTranslations = applyTranslations;
window.switchLanguage = switchLanguage;
window.currentLanguage = currentLanguage;